<h1>Index Page</h1>

<%= link_to('Back to Home', {controller: 'main', action: 'index'}) %><br />

<div>
    <h2>People</h2>
    <h4>Use: Person ID to add corresponding Emais,Addresses, & Phone Numbers</h4>

    <%= link_to "Add New Person", new_person_path, class: 'btn btn-primary btn-lg mb-4', data: { bs_toggle: 'modal', bs_target: '#newUserModal', remote: true } %>
    
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Person ID</th>
                    <th scope="col">Salutation</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Middle Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">SSN</th>
                    <th scope="col">DOB</th>
                    <th scope="col">Comment</th>
                </tr>
            </thead>
            <% @people.each do |person| %>
            <tbody>
                <tr>
                
                <th scope="row"><%= person.id%></th>
                <td><%= person.salutation %></td>
                <td><%= person.first_name %></td>
                <td><%= person.middle_name%></td>
                <td><%= person.last_name%></td>
                <td><%= person.ssn%></td>
                <td><%= person.dob%></td>
                <td><%= person.comment%></td>
                <td>
                    <%= link_to("Show", person_path(person), class: 'action show')%>
                    <%= link_to("Edit", edit_person_path(person), class: 'action edit')%>
                    <%= link_to("Delete", delete_person_path(person), class: 'action delete')%>
                </td>
                </tr>
            </tbody>
            <% end %>
        </table>

    
        <!-- Modal -->
        <div class="modal fade" id="newUserModal" tabindex="-1" aria-labelledby="newUserModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="newUserModalLabel">Add New Person</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div id="newUserForm">
                        <%= render(partial: 'form', remote: true) %>
                    </div>
                </div>
            </div>
        </div>
    
</div>

